<div class="rich" style="">

  <div class="grid" style="margin: 0px 0px;">
    <h1>Manual calibration</h1>
  </div>
  <div class="3">
    <label for="programSet-selection">Select a parameter set:</label>
  </div>
  <div style="display: flex;justify-content: flex-start;">
    <select id="programSet-selection"
            name="programSet-selection"
            class="updateGraph txbox"
            ng-model="activeParset"
            ng-change="getGraphs()"
            ng-options="parset.name for parset in parsets"
            style="width: 20%;">
    </select>
    <button ng-click="addParameterSet()" type="button" class="btn" style="margin-left:2%">New parameter set</button>
    <button ng-click="copyParameterSet()" type="button" class="btn" style="margin-left:2%">Copy parameter set</button>
    <button ng-click="renameParameterSet()" type="button" class="btn" style="margin-left:2%">Rename parameter set</button>
    <button ng-click="downloadParameterSet()" type="button" class="btn" style="margin-left:2%">Download parameter set</button>
    <button ng-click="uploadParameterSet()" type="button" class="btn" style="margin-left:2%">Upload parameter set</button>
    <button ng-click="deleteParameterSet()" type="button" class="btn" style="margin-left:2%">Delete parameter set</button>
  </div>

  <div style="display: flex; margin-top: 20px;">  <!-- CK: maybe a more robust solution than 70vh -->
    <div style="display: flex;justify-content: space-around; margin-top: 25px">{{test}}
      <button class="btn __m" ng-click="processGraphs(true)">Save</button> <!-- WARNING, automatically saves! -->
      &nbsp;
      <button class="btn __m" ng-click="processGraphs()">Update graphs</button> <!-- WARNING, automatically saves! -->
      &nbsp;
      Run auto-fit for&nbsp;
      &nbsp;
      <select ng-init="state.maxtime=10" ng-model="state.maxtime">
        <option value="10">10 seconds</option>
        <option value="30">30 seconds</option>
        <option value="60">1 minute</option>
        <option value="300">5 minutes</option>
        <option value="600">10 minutes</option>
        <option value="1800">30 minutes</option>
      </select>
      &nbsp;
      <button class="btn __m" ng-click="startAutoCalibration()">Autofit</button>
      &nbsp;
      <span style="color: #00aeef; margin-top: 5px">
        {{ statusMessage }}
      </span>
      <span style="color: #00aeef; margin-top: 5px">
        {{ saveSuccessMessage }}
      </span>
    </div>
  </div>

  <div style="display: flex; margin-top: 20px; justify-content: space-between; height: 62vh">  <!-- CK: maybe a more robust solution than 70vh -->
    <div class="small_bordered_list" style="width: 22%;" ng-if="parameters.length > 0">
      <div class="option_list" style="height: calc(100vh - 280px);">
        <div ng-repeat="parameter in parameters" style="justify-content: space-around" class="option">
          <span style="width: 45%">{{parameter.label}}</span>
          <span style="width: 45%"><input class="txbox __m" type="number" ng-model="parameter.value"/></span>
        </div>
      </div>
    </div>

    <optima-graphs graphs="graphs"></optima-graphs>


    <!--<div class="chart_wrapper" style="height:calc(100vh - 280px)">-->
      <!--<div class="3" style="margin: 10px; width: 100%; text-align: right;">-->
        <!--<export-all-charts name="Manual Calibration" ng-if="calibrationChart.length > 0"></export-all-charts>-->
        <!--&lt;!&ndash;<export-all-data charts="calibrationChart" name="Optimization analyses" ng-if="calibrationChart.length > 0"></export-all-data>&ndash;&gt;-->
      <!--</div>-->
      <!--<div ng-repeat="chart in calibrationChart" class="chart-container __small">-->
        <!--<div mpld3-chart="chart" chart-id="{{ chart.id }} "></div>-->
      <!--</div>-->
    <!--</div>-->
    <!--<div class="small_bordered_list" style="width: 18%;" ng-if="selectors.length > 0">-->
      <!--<div class="option_list" style="height:calc(100vh - 280px)">-->
        <!--<div ng-repeat="selector in selectors" class="option">-->
          <!--<span><input type="checkbox" ng-model="selector.checked"/></span>-->
          <!--<span style="margin-left: 10px">{{selector.name}}</span>-->
        <!--</div>-->
      <!--</div>-->
      <!--<div style="display: flex;justify-content: center; margin-top: 25px">-->
        <!--<input type="button" value="Update" class="updateGraph btn" ng-click="processGraphs()"/>-->
      <!--</div>-->
    <!--</div>-->
  </div>
</div>
