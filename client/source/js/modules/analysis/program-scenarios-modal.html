
<a class="modal-close fa fa-times" ng-click="cancel()"></a>

<div class="modal-header">
  CREATE/EDIT A {{scenario.scenario_type}} PROGRAM SCENARIO
</div>

<!-- Name -->
<div class="o-form__field-wrap">
  <label> Name </label>
  <input class="txbox" type="text" ng-model="scenario.name" required/>
  <div class="error-hint" ng-show="checkScenarioExists()">
    Scenario with this name already exists, please choose a different name.
  </div>
</div>

<div class="c-prosce-modal__selects u-layout-horizontal">

  <!--  Select a parameter set to use as baseline  -->
  <div class="o-form__field-wrap c-prosce-modal__input-with-space">
    <label class="o-form__label"> Select a parameter set to use as baseline </label>
    <select class="o-form__input txbox" type="text" ng-model="scenario.parset_id"
            ng-options="parset.id as parset.name for parset in parsets"
            required>
    </select>
  </div>

  <!--  Select a program set to use as baseline  -->
  <div class="o-form__field-wrap c-prosce-modal__input-with-space">
    <label class="o-form__label"> Select a program set to use as baseline </label>
    <select class="o-form__input txbox" type="text" ng-model="scenario.progset_id"
            ng-options="progset.id as progset.name for progset in progsets" required>
    </select>
  </div>

</div>

<div class="c-prosce-modal__selects u-layout-horizontal" ng-show="false">
  <p class="error-hint">
    This program set is not ready to optimize, please pick another one
  </p>
</div>


<div style="
      border-top: 1px solid #999;
      border-bottom: 1px solid #999;
      padding: 10px 0;
      margin-top: 2em;
      margin-bottom: 1em;
      width: 100%">
  <table
      style="
        width: 100%">
    <th width="80px">Year</th>
    <th width="500px">Program</th>
    <th>{{getScenarioType()}}</th>
  </table>
</div>

<table
    style="
      border-bottom: 1px solid #999;
      margin-bottom: 1em;
      cellspacing: 10px;
      width: 100%"
    ng-repeat="year in years">

  <td width="80px" valign="top">
      <select
          class="txbox __inline"
          style="width: 60px;"
          type="number"
          ng-model="year.value"
          ng-options="year for year in getSelectableYears(year.value)">
      </select>
  </td>
  <td width="580px" valign="top">
    <div
      style="padding-bottom: 0.5em"
      ng-repeat="program in year.programs"">
      <select
          class="txbox __inline"
          style="width: 500px;"
          type="text"
          ng-model="program.short"
          ng-options="p.short as p.name for p in getActivePrograms()">
      </select>
      <input
          class="txbox __inline"
          style="width:70px;"
          ng-model="program.value"
          type="number"/>
    </div>
    <button
        ng-click="addProgram(year)"
        class="btn"
        style="margin-bottom: 0.5em;">
      + program
    </button>
  </td>
  <td valign="top">
    <div
      class="fa fa-times"
      style="float: right"
      ng-click="removeYear($index)">
    </div>
  </td>
</table>

<div
  style="
    width: 100%;
    text-align: left;
    padding-top: 0.3em;
    padding-bottom: 2em;">
  <button
      ng-click="addYear()" class="btn">
    + year
  </button>
</div>

<div
  style="
    width: 100%;
    text-align: center;">
  <button ng-click="cancel()" class="btn">Cancel</button>
  <button type="submit" ng-click="save()"
          class="btn __s o-form__button o-form__button--save">
    save
  </button>
</div>

