<div class="rich">

  <form id="createForm" name="CreateProjectForm" action="{{ formAction }}" method="post" ng-submit="prepareCreateForm()" novalidate="novalidate">
    <p>
      <b>Instructions</b><br>
      1. Enter the name of the project and the numbers of population groups and HIV programs.<br>
      2. Click “Save project &amp; generate Optima template”.<br>
      3. This will generate a blank Excel spreadsheet. Use Excel to enter data into this spreadsheet.<br>
      4. When complete, return to Optima, click “Upload Optima spreadsheet”, and select this spreadsheet.
    </p>

    <div class="section grid">
      <div class="6">
        <input class="txbox" type="text" placeholder="Project name" ng-model="projectParams.name" required>
      </div>
    </div>

    <div class="section grid">
      <div class="3">
        <input class="txbox" type="number" min="1900" placeholder="Epidemic data start year" ng-model="projectParams.datastart" required>
      </div>
      <div class="3">
        <input class="txbox" type="number" min="1900" placeholder="Epidemic data end year" ng-model="projectParams.dataend" required>
      </div>
    </div>

    <div class="section grid">
      <div class="3">
        <input class="txbox" type="number" min="1900" placeholder="Economic projection start year" ng-model="projectParams.econ_datastart" required>
      </div>
      <div class="3">
        <input class="txbox" type="number" min="1900" placeholder="Economic projection end year" ng-model="projectParams.econ_dataend" required>
      </div>
    </div>

    <div class="section grid">
      <div class="6">
        <p><b>Available populations:</b></p>

        <table class="section table table-bordered">
          <thead>
          <tr>
            <td><b>Active</b></td>
            <td><b>Name</b></td>
            <td><b>Acronym</b></td>
            <td>&nbsp;</td>
          </tr>
          </thead>
          <tbody>
          <tr ng-repeat="row in populations">
            <td class="text-center" style="width: 50px">
              <input type="checkbox" ng-model="row.active">
            </td>
            <td style="width: 300px">{{ row.name }}</td>
            <td style="width: 150px">{{ row.acronym }}</td>
            <td>
              <button role="button" class="btn" ng-click="openEditPopulationModal($event, row)">Edit</button>
            </td>
          </tr>
          </tbody>
          <tfoot>
          <tr>
            <td colspan="4" class="text-right">
              <button role="button" class="btn" ng-click="openAddPopulationModal($event)">Add a population</button>
            </td>
          </tr>
          </tfoot>
        </table>
      </div>
    </div>

    <div class="section grid">
      <div class="6">
        <p><b>Available programs:</b></p>

        <table class="section table table-bordered">
          <thead>
          <tr>
            <td><b>Active</b></td>
            <td><b>Name</b></td>
            <td><b>Acronym</b></td>
            <td><b>Indicators</b></td>
            <td>&nbsp;</td>
          </tr>
          </thead>
          <tbody>
          <tr ng-show="programs.length" ng-repeat="row in programs">
            <td class="text-center" style="width: 50px">
              <input type="checkbox" ng-model="row.active">
            </td>
            <td style="width: 300px">{{ row.name }}</td>
            <td style="width: 150px">{{ row.acronym }}</td>
            <td class="text-center" style="width: 50px">{{ row.indicators.length }}</td>
            <td>
              <button role="button" class="btn" ng-click="openEditProgramModal($event, row)">Edit</button>
            </td>
          </tr>
          <tr ng-show="!programs.length">
            <td class="text-center" colspan="5">No programs set yet</td>
          </tr>
          </tbody>
          <tfoot>
          <tr>
            <td colspan="5" class="text-right">
              <button role="button" class="btn" ng-click="openAddProgramModal($event)">Add a program</button>
            </td>
          </tr>
          </tfoot>
        </table>

      </div>
    </div>

    <div class="section text-center">
      <button class="btn" type="submit">Create project &amp; Optima template</button>
    </div>

    <input type="hidden" name="params" value="{{ formParams }}">
  </form>
</div>
